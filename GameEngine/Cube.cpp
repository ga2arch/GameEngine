//
//  Cube.cpp
//  GameEngine
//
//  Created by Gabriele Carrettoni on 29/11/14.
//  Copyright (c) 2014 Gabriele Carrettoni. All rights reserved.
//

#include "Cube.h"

Cube::Cube(const Material& mat): Mesh(mat) {
    buffer = {
        // front
        -1.0, -1.0,  1.0, 0.0, 0.0, 1.0,
        1.0, -1.0,  1.0,  0.0, 0.0, 1.0,
        1.0,  1.0,  1.0,  0.0, 0.0, 1.0,
        -1.0,  1.0,  1.0, 0.0, 0.0, 1.0,
        // top
        -1.0,  1.0,  1.0, 0.0, 1.0, 0.0,
        1.0,  1.0,  1.0,  0.0, 1.0, 0.0,
        1.0,  1.0, -1.0,  0.0, 1.0, 0.0,
        -1.0,  1.0, -1.0, 0.0, 1.0, 0.0,
        // back
        1.0, -1.0, -1.0,  0.0, 0.0, -1.0,
        -1.0, -1.0, -1.0, 0.0, 0.0, -1.0,
        -1.0,  1.0, -1.0, 0.0, 0.0, -1.0,
        1.0,  1.0, -1.0,  0.0, 0.0, -1.0,
        // bottom
        -1.0, -1.0, -1.0, 0.0, -1.0, 0.0,
        1.0, -1.0, -1.0,  0.0, -1.0, 0.0,
        1.0, -1.0,  1.0,  0.0, -1.0, 0.0,
        -1.0, -1.0,  1.0, 0.0, -1.0, 0.0,
        // left
        -1.0, -1.0, -1.0, -1.0, 0.0, 0.0,
        -1.0, -1.0,  1.0, -1.0, 0.0, 0.0,
        -1.0,  1.0,  1.0, -1.0, 0.0, 0.0,
        -1.0,  1.0, -1.0, -1.0, 0.0, 0.0,
        // right
        1.0, -1.0,  1.0,  1.0, 0.0, 0.0,
        1.0, -1.0, -1.0,  1.0, 0.0, 0.0,
        1.0,  1.0, -1.0,  1.0, 0.0, 0.0,
        1.0,  1.0,  1.0,  1.0, 0.0, 0.0,
    };
    indices = {
        // front
        0,  1,  2,
        2,  3,  0,
        // top
        4,  5,  6,
        6,  7,  4,
        // back
        8,  9, 10,
        10, 11,  8,
        // bottom
        12, 13, 14,
        14, 15, 12,
        // left
        16, 17, 18,
        18, 19, 16,
        // right
        20, 21, 22,
        22, 23, 20,
    };
    
    setup();
}

void Cube::_draw() {
    glDrawElements(GL_TRIANGLE_STRIP,
                   indices.size(),
                   GL_UNSIGNED_SHORT, nullptr);
}

